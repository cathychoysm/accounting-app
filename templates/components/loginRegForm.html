<form action="{{ action }}" method="post" class="my-card login-form">
    <h1 class="my-3">{{ title }}</h1>
    {% if error %}
        <div class="text-danger">{{ error }}</div>
    {% endif %}
    <div class="d-flex gap-3 align-items-center my-3">
        <label for="username">Username:</label>
        {% if username %}
            <input type="text" id="username" name="username" class="form-control" value="{{ username }}" autofocus autocomplete="off"/>
        {% else %}
            <input type="text" id="username" name="username" class="form-control" autofocus autocomplete="off"/>
        {% endif%}
    </div>
    <div class="d-flex gap-3 align-items-center my-3">
        <label for="password">Password:</label>
        {% if password %}
            <div class="input-group mb-3">
                <input type="password" id="password" name="password" class="form-control" value="{{ password }}" autocomplete="off"/>
                <div class="input-group-text">
                    <button class="btn p-0" type="button" onclick="showPassword(this)"><i class="fa-regular fa-eye"></i></button>
                </div>
            </div>
        {% else %}
            <div class="input-group mb-3">
                <input type="password" id="password" name="password" class="form-control" autocomplete="off"/>
                <div class="input-group-text">
                    <button class="btn p-0" type="button" onclick="showPassword(this)"><i class="fa-regular fa-eye"></i></button>
                </div>
            </div>
        {% endif%}
    </div>
    <button class="btn btn-primary w-25 my-3">{{ title }}</button>
</form>

<script>
    function showPassword(button){
        const passwordInputField = document.getElementById("password")
        if (passwordInputField.type === "password") {
            passwordInputField.type = "text";
            button.innerHTML = `<i class="fa-regular fa-eye-slash"></i>`
        } else {
            passwordInputField.type = "password";
            button.innerHTML = `<i class="fa-regular fa-eye"></i>`
        }
    }
</script>
